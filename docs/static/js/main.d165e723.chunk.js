(this.webpackJsonpbanker=this.webpackJsonpbanker||[]).push([[0],{102:function(e,a,t){e.exports={pageWrapper:"StartPage_pageWrapper__3XIk8",contentWrapper:"StartPage_contentWrapper__17ckV"}},12:function(e,a,t){e.exports={form:"ClientPage_form__1ahOf",tabsWrapper:"ClientPage_tabsWrapper__2lfsL",fieldWrapper:"ClientPage_fieldWrapper__3qjHV",input:"ClientPage_input__1xqy_",inputLabel:"ClientPage_inputLabel__2Qgs1"}},146:function(e,a,t){e.exports={form:"Authorization_form__1Hdni"}},155:function(e,a,t){e.exports={main__wrapper:"Main_main__wrapper__2-HkS"}},156:function(e,a,t){e.exports={addClientForm:"AddClient_addClientForm__Qh3ca"}},157:function(e,a,t){e.exports={clientsTableWrapper:"ClientsList_clientsTableWrapper__QHi6S"}},158:function(e,a,t){e.exports={calendarWrapper:"MainCalendar_calendarWrapper__rjWtS",input:"MainCalendar_input__JeGzF"}},159:function(e,a,t){e.exports={historyWrapper:"ActionsHistory_historyWrapper__2yCtK"}},177:function(e,a,t){},178:function(e,a,t){},283:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(19),c=t.n(s),i=t(75),l=t(144),o=t(50),d=t(10),u=t(101),b=(t(175),t(176),{apiKey:"AIzaSyDXABBa26lbVbv3cmr44BoMNxRXMeSaPhg",authDomain:"banker-f9fc3.firebaseapp.com",projectId:"banker-f9fc3",storageBucket:"banker-f9fc3.appspot.com",messagingSenderId:"647493756567",appId:"1:647493756567:web:d08c88243400bc333b6bd2",databaseURL:"https://banker-f9fc3-default-rtdb.europe-west1.firebasedatabase.app/"});u.a.apps.length||u.a.initializeApp(b);var j="SET_DATE",m="SET_TASK",h="GET_TASKS",p="SET_ADD_TASK_MODE",O="SET_LOADING_STATUS",x={date:new Date,tasks:{},addTaskMode:!0,isDataLoading:!0},f=function(e){return{type:O,payload:{status:e}}},_=function(e){return function(a){a(f(!0)),u.a.database().ref("/users/".concat(e.id,"/tasks/").concat(e.date)).once("value",(function(e){a(function(e){return{type:h,payload:{tasks:e}}}(Object(d.a)({},e.val())))})).then((function(){a(f(!1))}))}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case j:return Object(d.a)(Object(d.a)({},e),{},{date:a.payload.date});case m:return Object(d.a)(Object(d.a)({},e),{},{tasks:Object(d.a)(Object(d.a)({},e.tasks),{},Object(o.a)({},a.payload.id,a.payload.task))});case h:return Object(d.a)(Object(d.a)({},e),{},{tasks:Object(d.a)({},a.payload.tasks)});case p:return Object(d.a)(Object(d.a)({},e),{},{addTaskMode:a.payload.addTaskMode});case O:return Object(d.a)(Object(d.a)({},e),{},{isDataLoading:a.payload.status});default:return e}},g="ADD_CLIENT",C="GET_CLIENTS",N="IS_CLIENTS_LOADING_STATUS",y="SET_FILTERED_CLIENTS",w="SET_FILTER_STATUS",k={clients:{},isClientsLoading:!0,isFilter:!1},S=function(e){return{type:w,payload:{status:e}}},T=function(e){return{type:N,payload:{status:e}}},L=function(e){return function(e){e(T(!0)),u.a.database().ref("/clients/").once("value",(function(a){e(function(e){return{type:C,payload:{clients:Object(d.a)({},e)}}}(Object(d.a)({},a.val())))})).then((function(){e(T(!1))})),e(S(!1))}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return Object(d.a)(Object(d.a)({},e),{},{clients:Object(d.a)(Object(d.a)({},e.clients),{},Object(o.a)({},a.payload.clientId,a.payload.data))});case C:return Object(d.a)(Object(d.a)({},e),{},{clients:a.payload.clients});case N:return Object(d.a)(Object(d.a)({},e),{},{isClientsLoading:a.payload.status});case y:return Object(d.a)(Object(d.a)({},e),{},{clients:a.payload.clients});case w:return Object(d.a)(Object(d.a)({},e),{},{isFilter:a.payload.status});default:return e}},D="SET_USER_DATA",E={name:null,surname:null,email:null,id:null},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case D:return Object(d.a)(Object(d.a)({},e),{},{name:a.payload.name,surname:a.payload.surname,email:a.payload.email,id:a.payload.id});default:return e}},B="SET_ACTION",F="SET_ACTIONS",I="SET_ACTIONS_LOADING_STATUS",P={actions:{},actionsLoadingStatus:!0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case B:return Object(d.a)(Object(d.a)({},e),{},{actions:Object(d.a)(Object(d.a)({},e.actions),{},Object(o.a)({},a.payload.id,a.payload.action))});case F:return Object(d.a)(Object(d.a)({},e),{},{actions:Object(d.a)({},a.payload.actions)});case I:return Object(d.a)(Object(d.a)({},e),{},{actionsLoadingStatus:a.payload.status});default:return e}},U="SET_CLIENT_DATA",q="GET_CLIENT_DATA",H="SET_CLIENT_LOADING_STATUS",M={client:{},isClientLoading:!0},V=function(e){return{type:H,payload:{status:e}}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case U:case q:return Object(d.a)(Object(d.a)({},e),{},{client:a.payload.data});case H:return Object(d.a)(Object(d.a)({},e),{},{isClientLoading:a.payload.status});default:return e}},$=Object(i.d)(Object(i.b)({currentUser:W,calendar:v,clients:A,actions:R,client:z}),Object(i.a)(l.a));window.store=$;var G=$,J=(t(177),t(16)),Z=(t(178),t(24)),K=t(22),X=t(3),Q=Object(n.createContext)(),Y="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u043c \u0438\u0437 \u0448\u0435\u0441\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",ee="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",ae="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",te="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",ne=25,re=u.a.database(),se=Object(i.c)(J.h,Object(K.b)(null,{setUserId:function(e){return function(a){u.a.database().ref("/users/".concat(e)).once("value",(function(t){var n;a((n=Object(d.a)(Object(d.a)({},t.val()),{},{id:e}),{type:D,payload:{name:n.name,surname:n.surname,email:n.email,id:n.id}}))}))}}}))((function(e){var a=Object(n.useState)(""),t=Object(Z.a)(a,2),r=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(Z.a)(c,2),l=i[0],o=i[1],d=Object(n.useState)(""),b=Object(Z.a)(d,2),j=b[0],m=b[1],h=Object(n.useState)(""),p=Object(Z.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(!1),_=Object(Z.a)(f,2),v=_[0],g=_[1],C=function(){m(""),x("")};return Object(n.useEffect)((function(){o(!0),u.a.auth().onAuthStateChanged((function(a){a?(s(a),e.setUserId(a.uid)):s(""),o(!1)}))}),[]),Object(X.jsx)(Q.Provider,{value:{user:r,emailError:j,passwordError:O,isAuthenticating:v,isCheckingForUser:l,handleLogin:function(a,t){C(),g(!0),u.a.auth().signInWithEmailAndPassword(a,t).then((function(a){a&&e.history.push("/main")})).catch((function(e){switch(e.code){case"auth/user-disabled":m("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d");break;case"auth/invalid-email":case"auth/user-not-found":case"auth/wrong-password":x("\u041d\u0435\u0432\u0435\u0440\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c");break;case"auth/too-many-requests":x("\u0423\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0437\u0436\u0435");break;default:m(ae),x(ae)}})).finally((function(){g(!1)}))},handleRegistration:function(e,a,t,n){C(),g(!0),u.a.auth().createUserWithEmailAndPassword(e,a).catch((function(e){switch(e.code){case"auth/email-already-in-use":m("\u0414\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d");break;case"auth/invalid-email":m(ee);break;case"auth/weak-password":x(Y);break;default:m(ae),x(ae)}})).finally((function(){g(!1)})),u.a.auth().onAuthStateChanged((function(a){a&&re.ref("/users/".concat(a.uid)).set({name:t,surname:n,email:e})}))},handleLogout:function(){u.a.auth().signOut(),e.history.push("/")},clearErrors:C},children:e.children})})),ce=t(146),ie=t.n(ce),le=t.p+"static/media/logo.294a2208.svg",oe=t(30),de=(t(34),t(36)),ue=t(13),be=t(321),je=function(e){var a=Object(n.useContext)(Q),t=a.handleLogin,r=a.emailError,s=a.passwordError,c=a.clearErrors,i=a.isAuthenticating;return Object(X.jsx)("div",{className:"l-auth-reg__wrapper",children:Object(X.jsxs)("div",{className:"l-auth-reg__form",children:[Object(X.jsx)("img",{src:le,className:"l-auth-reg__logo",alt:"auth-logo"}),Object(X.jsx)("h1",{className:"l-auth-reg__heading",children:"\u0410\u0412\u0422\u041e\u0420\u0418\u0417\u0410\u0426\u0418\u042f"}),Object(X.jsx)(de.a,{initialValues:{email:"",password:""},validationSchema:ue.b({email:ue.d().required(te),password:ue.d().required(te)}),onSubmit:function(e){t(e.email,e.password)},children:function(e){return Object(X.jsxs)("form",{className:ie.a.form,onSubmit:e.handleSubmit,children:[Object(X.jsx)(be.a,{error:s||r||e.touched.email&&e.errors.email,autoFocus:!0,onChange:e.handleChange,value:e.values.email,onFocus:c,name:"email",label:"\u042d\u041b\u0415\u041a\u0422\u0420\u041e\u041d\u041d\u0410\u042f \u041f\u041e\u0427\u0422\u0410",helperText:"".concat(e.touched.email&&e.errors.email?e.errors.email:"","\n").concat(r||"")}),Object(X.jsx)(be.a,{error:s||e.touched.password&&e.errors.password,value:e.values.password,onChange:e.handleChange,name:"password",onFocus:c,label:"\u041f\u0410\u0420\u041e\u041b\u042c",type:"password",helperText:"".concat(e.touched.password&&e.errors.password?e.errors.password:"","\n").concat(s||"")}),Object(X.jsx)("button",{type:"submit",disabled:i,className:"l-auth-reg__button",children:"\u0412\u041e\u0419\u0422\u0418"})]})}}),Object(X.jsxs)("div",{className:"l-auth-reg__redirect",children:[Object(X.jsx)("span",{className:"l-auth-reg__text",children:"\u041d\u0415\u0422 \u0423\u0427\u0415\u0422\u041d\u041e\u0419 \u0417\u0410\u041f\u0418\u0421\u0418?\xa0"}),Object(X.jsx)(oe.b,{onClick:c,className:"l-auth-reg__link",to:"/registration",children:"\u0421\u041e\u0417\u0414\u0410\u0422\u042c"})]})]})})},me=t(42),he=t.n(me),pe=t(32),Oe=t.n(pe),xe="\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430",fe=function(){var e=Object(n.useContext)(Q),a=e.handleRegistration,t=e.emailError,r=e.clearErrors,s=e.isAuthenticating;return Object(X.jsx)("div",{className:"l-auth-reg__wrapper",children:Object(X.jsxs)("div",{className:Oe()("l-auth-reg__form",he.a.formWrapper),children:[Object(X.jsx)("img",{src:le,className:"l-auth-reg__logo",alt:"auth-logo"}),Object(X.jsx)("h1",{className:"l-auth-reg__heading",children:"\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0410\u0426\u0418\u042f"}),Object(X.jsx)(de.a,{initialValues:{name:"",surname:"",email:"",password:"",confirmPassword:""},validationSchema:ue.b({name:ue.d().max(ne,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0438\u043c\u0435\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(ne," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,xe).required(te),surname:ue.d().max(ne,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0438\u043c\u0435\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(25," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,xe).required(te),email:ue.d().email(ee).required(te),password:ue.d().required(te).matches(/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/g,"\u0421\u043b\u0430\u0431\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c").min(6,Y),confirmPassword:ue.d().required(te).oneOf([ue.c("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c")}),onSubmit:function(e){a(e.email,e.password,e.name,e.surname)},children:function(e){return Object(X.jsxs)("form",{className:he.a.form,onSubmit:e.handleSubmit,children:[Object(X.jsxs)("div",{className:he.a.inputsWrapper,children:[Object(X.jsx)(be.a,{className:he.a.input,error:e.touched.name&&e.errors.name,label:"\u0418\u041c\u042f",value:e.values.name,onChange:e.handleChange,name:"name",helperText:e.touched.name&&e.errors.name?e.errors.name:null}),Object(X.jsx)(be.a,{className:he.a.input,error:e.touched.surname&&e.errors.surname,label:"\u0424\u0410\u041c\u0418\u041b\u0418\u042f",value:e.values.surname,onChange:e.handleChange,name:"surname",helperText:e.touched.surname&&e.errors.surname?e.errors.surname:null}),Object(X.jsx)(be.a,{className:he.a.input,error:t||e.touched.email&&e.errors.email,value:e.values.email,onChange:e.handleChange,onFocus:r,label:"\u042d\u041b\u0415\u041a\u0422\u0420\u041e\u041d\u041d\u0410\u042f \u041f\u041e\u0427\u0422\u0410",name:"email",helperText:"".concat(e.touched.email&&e.errors.email?e.errors.email:"","\n").concat(t||"")}),Object(X.jsx)(be.a,{className:he.a.input,error:e.touched.password&&e.errors.password,value:e.values.password,type:"password",label:"\u041f\u0410\u0420\u041e\u041b\u042c",onChange:e.handleChange,name:"password",helperText:e.touched.password&&e.errors.password?e.errors.password:null}),Object(X.jsx)(be.a,{className:he.a.input,error:e.touched.confirmPassword&&e.errors.confirmPassword,type:"password",label:"\u041f\u041e\u0414\u0422\u0412\u0415\u0420\u0414\u0418\u0422\u0415 \u041f\u0410\u0420\u041e\u041b\u042c",value:e.values.confirmPassword,onChange:e.handleChange,name:"confirmPassword",helperText:e.touched.confirmPassword&&e.errors.confirmPassword?e.errors.confirmPassword:null})]}),Object(X.jsx)("button",{type:"submit",disabled:s,className:Oe()("l-auth-reg__button",he.a.button),children:"\u0417\u0410\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0418\u0420\u041e\u0412\u0410\u0422\u042c\u0421\u042f"})]})}}),Object(X.jsxs)("div",{className:"l-auth-reg__redirect",children:[Object(X.jsx)("span",{className:"l-auth-reg__text",children:"\u0423\u0416\u0415 \u0417\u0410\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0418\u0420\u041e\u0412\u0410\u041d\u042b?\xa0"}),Object(X.jsx)(oe.b,{onClick:r,className:"l-auth-reg__link",to:"/",children:"\u0412\u041e\u0419\u0422\u0418"})]})]})})},_e=t(43),ve=t.n(_e),ge=function(e){return Object(X.jsxs)("nav",{className:ve.a.navigation,children:[Object(X.jsxs)("div",{className:ve.a.workBlocks,children:[Object(X.jsx)(oe.b,{exact:!0,to:"/main",className:ve.a.navigation__item,activeClassName:ve.a.active,children:"\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(X.jsx)(oe.b,{to:"/main/clients",className:ve.a.navigation__item,activeClassName:ve.a.active,children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"})]}),Object(X.jsx)("div",{className:ve.a.profileBlock,children:Object(X.jsx)(oe.b,{to:"/main/profile",className:ve.a.navigation__item,activeClassName:ve.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})]})},Ce=function(e){return Object(X.jsx)("div",{className:"panel",children:e.children})},Ne=t(67),ye=t.n(Ne),we="\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430",ke=Object(K.b)((function(e){return{profile:e.currentUser}}),{setUpdatedUserData:function(e){return function(a){u.a.database().ref("/users/".concat(e.id,"/name")).set(e.name),u.a.database().ref("/users/".concat(e.id,"/surname")).set(e.surname),a(function(e){return{type:"UPDATE_USER_DATA",payload:{name:e.name,surname:e.surname}}}(e))}}})((function(e){var a=Object(n.useState)(!1),t=Object(Z.a)(a,2),r=t[0],s=t[1],c=Object(n.useContext)(Q),i=c.handleLogout,l=c.user;return Object(X.jsxs)("div",{className:ye.a.profile__wrapper,children:[Object(X.jsxs)(Ce,{children:[r?Object(X.jsx)("button",{className:"c-add-nav-panel__text-button",onClick:function(){return s(!r)},type:"button",children:"\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c"}):Object(X.jsx)("button",{className:"c-add-nav-panel__text-button",onClick:function(){return s(!r)},form:"profile-data-form",type:"submit",children:"\u0420\u0415\u0414\u0410\u041a\u0422\u0418\u0420\u041e\u0412\u0410\u0422\u042c"}),Object(X.jsx)("button",{className:Oe()("c-add-nav-panel__text-button",ye.a.profile__exitButton),onClick:i,type:"button",children:"\u0412\u042b\u0419\u0422\u0418"})]}),Object(X.jsx)(de.a,{initialValues:{name:e.profile.name,surname:e.profile.surname,email:e.profile.email},validationSchema:ue.b({name:ue.d().max(ne,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0438\u043c\u0435\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(ne," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,we).required(te),surname:ue.d().max(ne,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0438\u043c\u0435\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(25," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,we).required(te)}),onSubmit:function(a){e.setUpdatedUserData({name:a.name,surname:a.surname,id:l.uid})},children:function(e){return Object(X.jsxs)("form",{id:"profile-data-form",className:ye.a.profile__dataWrapper,onSubmit:e.handleSubmit,children:[Object(X.jsx)("span",{className:ye.a.profile__dataHeading,children:"\u042d\u041b\u0415\u041a\u0422\u0420\u041e\u041d\u041d\u0410\u042f \u041f\u041e\u0427\u0422\u0410"}),Object(X.jsx)(be.a,{variant:"outlined",disabled:!0,value:e.values.email}),Object(X.jsx)("span",{className:ye.a.profile__dataHeading,children:"\u0418\u041c\u042f"}),Object(X.jsx)(be.a,{variant:"outlined",disabled:!r,onChange:e.handleChange,name:"name",value:e.values.name}),Object(X.jsx)("span",{className:ye.a.profile__dataHeading,children:"\u0424\u0410\u041c\u0418\u041b\u0418\u042f"}),Object(X.jsx)(be.a,{variant:"outlined",disabled:!r,onChange:e.handleChange,name:"surname",value:e.values.surname})]})}})]})})),Se=t(155),Te=t.n(Se),Le=t(326),Ae=function(){return Object(X.jsx)("div",{className:"preloader__wrapper",children:Object(X.jsx)(Le.a,{})})},De=t(336),Ee=t(76),We=t.n(Ee),Be=t(156),Fe=t.n(Be),Ie=t(286),Pe=t(292),Re=t(289),Ue=t(334),qe=t(287),He=25,Me=150,Ve=200,ze="\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",$e="\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430",Ge="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0435\u0440\u0430",Je="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0435\u0440\u0430",Ze="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",Ke="\u041a\u043b\u0438\u0435\u043d\u0442 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043e\u043d\u044b\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",Xe={surname:"",name:"",patronymic:"",birthdate:"",sex:"",id:"",work:"",phone:"",email:"",address:""},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ue.b().shape({name:ue.d().max(He,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(He," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,$e).required(ze),surname:ue.d().max(He,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(25," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,$e).required(ze),patronymic:ue.d().max(25,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(25," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).matches(/^[\u0410-\u042f\u0430-\u044f]+$/,$e).required(ze),birthdate:ue.a().required(ze),sex:ue.d().required(ze),work:ue.d().max(Me,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(Me," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),id:ue.d().matches(/^[0-9]{7}[A-Z]{1}[0-9]{3}[A-Z]{2}[0-9]{1}$/,Ge).notOneOf(e,Ke).required(ze),phone:ue.d().ensure().when(["email","address"],{is:function(e,a){return!e&&!a},then:ue.d().matches(/^[+][0-9]{12}$/,Je).required(ze)}),email:ue.d().ensure().email(Ze).when(["phone","address"],{is:function(e,a){return!e&&!a},then:ue.d().required(ze)}),address:ue.d().max(Ve,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(Ve," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")).ensure().when(["phone","email"],{is:function(e,a){return!e&&!a},then:ue.d().required(ze)})},[["email","address"],["phone","address"],["phone","email"]])},Ye=Object(K.b)(null,{addClient:function(e){return function(a){var t=u.a.database().ref("/clients").push(),n=t.key;t.set({name:e.name,surname:e.surname,patronymic:e.patronymic,birthdate:e.birthdate,sex:e.sex,work:e.work,id:e.id,phone:e.phone,email:e.email,address:e.address}).then((function(){a(function(e,a){return{type:g,payload:{clientId:e,data:a}}}(n,e))}))}},transferActionData:function(e){return function(a){var t=u.a.database().ref("/users/".concat(e.id,"/actions")).push(),n=t.key;t.set({date:e.date,time:e.time,action:e.action}).then((function(){a(function(e){return{type:B,payload:{action:e.action,id:e.actionId}}}({action:e.action,actionId:n}))}))}}})((function(e){var a=Object(K.c)(),t=Object(n.useContext)(Q).user,r=a.getState().clients.clients,s=[];for(var c in r)s.push(r[c].id);return Object(X.jsxs)("div",{children:[Object(X.jsx)(de.a,{initialValues:Xe,validationSchema:Qe(s),onSubmit:function(a){console.log(a.birthdate),e.addClient({name:a.name,surname:a.surname,patronymic:a.patronymic,birthdate:a.birthdate.split("-").reverse().join("."),sex:a.sex,work:a.work,id:a.id,phone:a.phone,email:a.email,address:a.address}),e.transferActionData({id:t.uid,date:(new Date).toLocaleDateString("ru"),time:(new Date).toLocaleTimeString("ru"),action:"\u0417\u0430\u0432\u0435\u0434\u0435\u043d\u0430 \u0430\u043d\u043a\u0435\u0442\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 ".concat(a.surname," ").concat(a.name," ").concat(a.patronymic," (\u0418\u041d: ").concat(a.id,")")}),e.handleCloseAddClient()},children:function(e){return Object(X.jsxs)("form",{id:"add-client-form",onSubmit:e.handleSubmit,className:Fe.a.addClientForm,children:[Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.surname,name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",error:Boolean(e.touched.surname&&e.errors.surname),helperText:e.touched.surname&&e.errors.surname?e.errors.surname:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.name,name:"name",label:"\u0418\u043c\u044f",error:Boolean(e.touched.name&&e.errors.name),helperText:e.touched.name&&e.errors.name?e.errors.name:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.patronymic,name:"patronymic",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",error:Boolean(e.touched.patronymic&&e.errors.patronymic),helperText:e.touched.patronymic&&e.errors.patronymic?e.errors.patronymic:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.birthdate,name:"birthdate",type:"date",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",error:Boolean(e.touched.birthdate&&e.errors.birthdate),helperText:e.touched.birthdate&&e.errors.birthdate?e.errors.birthdate:null,InputLabelProps:{shrink:!0}}),Object(X.jsxs)(Ie.a,{error:Boolean(e.touched.sex&&e.errors.sex),children:[Object(X.jsx)(Pe.a,{id:"new-client-sex-select",children:"\u041f\u043e\u043b"}),Object(X.jsxs)(Re.a,{labelId:"new-client-sex-select",name:"sex",value:e.values.sex,onChange:e.handleChange,children:[Object(X.jsx)(Ue.a,{value:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),Object(X.jsx)(Ue.a,{value:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]}),Object(X.jsx)(qe.a,{children:e.touched.sex&&e.errors.sex?e.errors.sex:null})]}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.id,name:"id",label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",error:Boolean(e.touched.id&&e.errors.id),helperText:e.touched.id&&e.errors.id?e.errors.id:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.work,name:"work",label:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",error:Boolean(e.touched.work&&e.errors.work),helperText:e.touched.work&&e.errors.work?e.errors.work:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.phone,name:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",error:Boolean(e.touched.phone&&e.errors.phone),helperText:e.touched.phone&&e.errors.phone?e.errors.phone:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.email,name:"email",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",error:Boolean(e.touched.email&&e.errors.email),helperText:e.touched.email&&e.errors.email?e.errors.email:null}),Object(X.jsx)(be.a,{onChange:e.handleChange,value:e.values.address,name:"address",label:"\u0410\u0434\u0440\u0435\u0441",error:Boolean(e.touched.address&&e.errors.address),helperText:e.touched.address&&e.errors.address?e.errors.address:null})]})}}),Object(X.jsxs)("div",{className:"c-form__buttons-wrapper",children:[Object(X.jsx)("button",{className:Oe()("c-form__button","c-form__button_apply"),type:"submit",form:"add-client-form",children:"\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c"}),Object(X.jsx)("button",{className:Oe()("c-form__button","c-form__button_cancel"),type:"button",onClick:e.handleCloseAddClient,children:"\u041e\u0422\u041c\u0415\u041d\u0418\u0422\u042c"})]})]})})),ea=t(327),aa=t(328),ta=t(329),na=t(330),ra=t(331),sa=t(332),ca=t(333),ia=t(157),la=t.n(ia),oa=Ae,da=t.p+"static/media/to-client-page.ac1ba8f2.svg",ua=t.p+"static/media/empty-box.5ef6fb58.svg",ba=Object(ea.a)({tableContainer:{border:"1px solid #ccc",maxWidth:"100vw",height:"100%","&::-webkit-scrollbar":{width:"6px",height:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"#C5DEFB",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#60A9E0",borderRadius:"5px"}},tableCell:{wordBreak:"unset"},table:{overflow:"auto",width:"100%"}}),ja=Object(K.b)((function(e){return{clients:e.clients.clients,isClientsLoading:e.clients.isClientsLoading}}),{showClients:L})((function(e){var a=ba();Object(n.useEffect)((function(){e.showClients()}),[]);var t=[];for(var r in e.clients)t.push({client:e.clients[r],id:r});return e.isClientsLoading?Object(X.jsx)(oa,{}):Object(X.jsx)("div",{className:la.a.clientsTableWrapper,children:t.length?Object(X.jsx)(aa.a,{className:a.tableContainer,children:Object(X.jsxs)(ta.a,{size:"small",stickyHeader:!0,className:a.table,children:[Object(X.jsx)(na.a,{children:Object(X.jsxs)(ra.a,{children:[Object(X.jsx)(sa.a,{className:a.tableCell}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0418\u043c\u044f"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u041f\u043e\u043b"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(X.jsx)(sa.a,{className:a.tableCell,children:"\u0410\u0434\u0440\u0435\u0441"})]})}),Object(X.jsx)(ca.a,{children:t.map((function(e){return Object(X.jsxs)(ra.a,{style:{height:"max-content"},children:[Object(X.jsx)(sa.a,{children:Object(X.jsx)(oe.b,{to:"/main/clients/".concat(e.id,"/data"),children:Object(X.jsx)("img",{src:da,alt:"user icon"})})}),Object(X.jsx)(sa.a,{children:e.client.surname}),Object(X.jsx)(sa.a,{children:e.client.name}),Object(X.jsx)(sa.a,{children:e.client.patronymic}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.birthdate.split("-").reverse().join(".")}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.sex}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.id}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.work}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.phone}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.email}),Object(X.jsx)(sa.a,{className:a.tableCell,children:e.client.address})]},e.id)}))})]})}):Object(X.jsxs)("div",{className:"c-empty-container__wrapper",children:[Object(X.jsx)("img",{src:ua,className:"c-empty-container__img",alt:"empty icon"}),Object(X.jsx)("p",{className:"c-empty-container__text",children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})})})),ma=t(47),ha=t.n(ma),pa=t.p+"static/media/reset-clients-filter.7200115a.svg",Oa=Object(K.b)((function(e){return{clients:e.clients.clients}}),{setFilter:function(e){return function(a){a(function(e){return{type:y,payload:{clients:e}}}(e)),a(S(!0))}}})((function(e){return Object(X.jsx)(de.a,{initialValues:{surname:"",name:"",patronymic:"",id:""},onSubmit:function(a){var t={};for(var n in e.clients)e.clients[n].surname.toLowerCase().includes(a.surname.toLowerCase())&&e.clients[n].name.toLowerCase().includes(a.name.toLowerCase())&&e.clients[n].patronymic.toLowerCase().includes(a.patronymic.toLowerCase())&&e.clients[n].id.toLowerCase().includes(a.id.toLowerCase())&&(t[n]=e.clients[n]);e.setFilter(t),e.handleCloseSearchClient()},children:function(a){return Object(X.jsxs)("div",{className:ha.a.searchFormWrapper,children:[Object(X.jsx)("button",{className:ha.a.resetButton,onClick:function(){a.setFieldValue("name",""),a.setFieldValue("surname",""),a.setFieldValue("patronymic",""),a.setFieldValue("id","")},children:Object(X.jsx)("img",{className:ha.a.resetButtonImg,src:pa,alt:"search icon"})}),Object(X.jsxs)("form",{className:ha.a.form,onSubmit:a.handleSubmit,id:"search-client-form",children:[Object(X.jsx)(be.a,{className:ha.a.formInput,value:a.values.surname,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",onChange:a.handleChange}),Object(X.jsx)(be.a,{className:ha.a.formInput,value:a.values.name,label:"\u0418\u043c\u044f",name:"name",onChange:a.handleChange}),Object(X.jsx)(be.a,{className:ha.a.formInput,value:a.values.patronymic,label:"\u041e\u0442\u0447\u0435\u0442\u0441\u0432\u043e",name:"patronymic",onChange:a.handleChange}),Object(X.jsx)(be.a,{className:ha.a.formInput,value:a.values.id,label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",name:"id",onChange:a.handleChange})]}),Object(X.jsxs)("div",{className:"c-form__buttons-wrapper",children:[Object(X.jsx)("button",{type:"submit",disabled:!(a.values.name||a.values.surname||a.values.patronymic||a.values.id),form:"search-client-form",className:Oe()("c-form__button","c-form__button_apply"),children:"\u041d\u0430\u0439\u0442\u0438"}),Object(X.jsx)("button",{type:"button",className:Oe()("c-form__button","c-form_button_cancel"),onClick:e.handleCloseSearchClient,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}})})),xa=Object(K.b)((function(e){return{isFilter:e.clients.isFilter}}),{showClients:L})((function(e){var a=Object(n.useState)(!1),t=Object(Z.a)(a,2),r=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(Z.a)(c,2),l=i[0],o=i[1];return Object(X.jsxs)("div",{className:We.a.wrapper,children:[Object(X.jsxs)(Ce,{children:[Object(X.jsx)("button",{title:"\u041d\u0430\u0439\u0442\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onClick:function(){o(!0)},className:Oe()(We.a.searchClientButton,We.a.panelButton)}),Object(X.jsx)("button",{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onClick:function(){s(!0)},className:Oe()(We.a.addClientButton,We.a.panelButton)}),e.isFilter?Object(X.jsx)("button",{className:"c-add-nav-panel__text-button",onClick:e.showClients,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}):null]}),Object(X.jsx)(ja,{}),Object(X.jsx)(De.a,{open:r,children:Object(X.jsx)(Ye,{handleCloseAddClient:function(){s(!1)}})}),Object(X.jsx)(De.a,{open:l,children:Object(X.jsx)(Oa,{handleCloseSearchClient:function(){o(!1)}})})]})})),fa=Ce,_a=t(160),va=t(158),ga=t.n(va),Ca=Object(K.b)((function(e){return{date:e.calendar.date}}),{setPickedDate:function(e){return function(a){a(function(e){return{type:j,payload:{date:e}}}(e))}},getTasksForCurrentDate:_,setAddTaskModeForCurrentDate:function(e){return function(a){var t;a((t=e.mode,{type:p,payload:{addTaskMode:t}}))}}})((function(e){var a=Object(n.useContext)(Q).user;return Object(X.jsx)("div",{className:ga.a.calendarWrapper,children:Object(X.jsx)(_a.a,{value:e.date,onClickDay:function(t){e.setPickedDate(t),e.getTasksForCurrentDate({id:a.uid,date:t.toLocaleDateString("ru").replaceAll(".","-")});var n=new Date;n.setHours(0,0,0,0),t.getTime()>=n.getTime()?e.setAddTaskModeForCurrentDate({mode:!0}):e.setAddTaskModeForCurrentDate({mode:!1})}})})})),Na=t(159),ya=t.n(Na),wa=Object(K.b)((function(e){return{actions:e.actions.actions,actionsLoadingStatus:e.actions.actionsLoadingStatus}}),{getActionsData:function(e){return function(a){u.a.database().ref("/users/".concat(e.id,"/actions")).once("value",(function(e){a(function(e){return{type:F,payload:{actions:e}}}(Object(d.a)({},e.val())))})).then((function(){a({type:I,payload:{actionsLoadingStatus:!1}})}))}}})((function(e){var a=Object(n.useContext)(Q).user;Object(n.useEffect)((function(){e.getActionsData({id:a.uid})}),[]);var t=[];for(var r in e.actions)t.push(e.actions[r]);return t.reverse(),Object(X.jsxs)("div",{className:ya.a.historyWrapper,children:[Object(X.jsx)("h1",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"}),e.actionsLoadingStatus?Object(X.jsx)(oa,{}):t.length?Object(X.jsx)(aa.a,{children:Object(X.jsxs)(ta.a,{children:[Object(X.jsx)(na.a,{children:Object(X.jsxs)(ra.a,{children:[Object(X.jsx)(sa.a,{children:"\u0414\u0430\u0442\u0430"}),Object(X.jsx)(sa.a,{children:"\u0412\u0440\u0435\u043c\u044f"}),Object(X.jsx)(sa.a,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})]})}),Object(X.jsx)(ca.a,{children:t.map((function(e,a){return Object(X.jsxs)(ra.a,{children:[Object(X.jsx)(sa.a,{children:e.date}),Object(X.jsx)(sa.a,{children:e.time}),Object(X.jsx)(sa.a,{children:e.action})]},a)}))})]})}):Object(X.jsxs)("div",{className:"c-empty-container__wrapper",children:[Object(X.jsx)("img",{src:ua,className:"c-empty-container__img",alt:"empty icon"}),Object(X.jsx)("p",{className:"c-empty-container__text",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})]})})),ka=t(60),Sa=t.n(ka),Ta=Object(ea.a)({tableContainer:{overflowY:"auto",width:"100%",height:"100%","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"#C5DEFB",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#60A9E0",borderRadius:"5px"}},cell:{whiteSpace:"normal",wordBreak:"break-word"},input:{width:"100%",fontSize:"4em"}}),La=Object(K.b)((function(e){return{date:e.calendar.date,currentUserId:e.currentUser.id,tasks:e.calendar.tasks,addTaskMode:e.calendar.addTaskMode,isDataLoading:e.calendar.isDataLoading}}),{setTaskForCurrentDate:function(e){return function(a){var t=u.a.database().ref("/users/".concat(e.id,"/tasks/").concat(e.date)).push(),n=t.key;t.set(e.task).then((function(){a(function(e){return{type:m,payload:{task:e.task,id:e.id}}}({task:e.task,id:n}))}))}},getTasksForCurrentDate:_})((function(e){var a=Ta(),t=Object(n.useState)(""),r=Object(Z.a)(t,2),s=r[0],c=r[1],i=Object(n.useState)(!1),l=Object(Z.a)(i,2),o=l[0],d=l[1],u=Object(n.useContext)(Q).user,b=[];for(var j in e.tasks)b.push({task:e.tasks[j],id:j});Object(n.useEffect)((function(){e.getTasksForCurrentDate({id:u.uid,date:e.date.toLocaleDateString("ru").replaceAll(".","-")})}),[]);var m=function(){s.trim().length&&(e.setTaskForCurrentDate({id:u.uid,task:s,date:e.date.toLocaleDateString("ru").replaceAll(".","-")}),c(""))};return Object(X.jsxs)("div",{className:Sa.a.wrapper,children:[Object(X.jsxs)("div",{className:Sa.a.tableHeadingWrapper,children:[Object(X.jsxs)("div",{className:Sa.a.tableHeading,children:[Object(X.jsx)("h2",{className:Sa.a.heading,children:"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"}),Object(X.jsx)("p",{className:Sa.a.date,children:e.date.toLocaleDateString("ru")})]}),e.addTaskMode?Object(X.jsxs)("div",{className:Sa.a.addTaskWrapper,children:[Object(X.jsx)(be.a,{size:"small",error:o,inputProps:{maxLength:100},className:a.input,value:s,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435",onKeyPress:function(e){"Enter"===e.code&&m()},onChange:function(e){c(e.target.value),100===e.target.value.length?d(!0):d(!1)},helperText:o?"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":null}),Object(X.jsx)("button",{className:Sa.a.addTaskButton,onClick:m})]}):null]}),e.isDataLoading?Object(X.jsx)(oa,{}):b.length?Object(X.jsx)(aa.a,{className:a.tableContainer,children:Object(X.jsx)(ta.a,{size:"small",stickyHeader:!0,children:Object(X.jsx)(ca.a,{children:b.map((function(e){return Object(X.jsx)(ra.a,{children:Object(X.jsx)(sa.a,{className:a.cell,children:e.task})},e.id)}))})})}):Object(X.jsxs)("div",{className:"c-empty-container__wrapper",children:[Object(X.jsx)("img",{src:ua,className:"c-empty-container__img",alt:"empty icon"}),Object(X.jsx)("p",{className:"c-empty-container__text",children:"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0439 \u043d\u0435\u0442"})]})]})})),Aa=(t(282),t(102)),Da=t.n(Aa),Ea=function(){return Object(X.jsxs)("div",{className:Da.a.pageWrapper,children:[Object(X.jsx)(fa,{className:Da.a.nav}),Object(X.jsxs)("div",{className:Da.a.contentWrapper,children:[Object(X.jsx)(wa,{}),Object(X.jsx)(Ca,{}),Object(X.jsx)(La,{})]})]})},Wa=t(12),Ba=t.n(Wa),Fa=Object(K.b)((function(e){return{client:e.client.client,isClientLoading:e.client.isClientLoading}}),{getCurrentClientData:function(e){return function(a){a(V(!0)),u.a.database().ref("/clients/".concat(e)).once("value",(function(e){console.log(Object(d.a)({},e.val())),a(function(e){return{type:q,payload:{data:e}}}(Object(d.a)({},e.val())))})).then((function(){a(V(!1))}))}},setCurrentClientData:function(e){return function(a){u.a.database().ref("/clients/".concat(e.id)).set(e.client),a(function(e){return{type:U,payload:{data:e}}}(e.client))}}})((function(e){var a={surname:e.client.surname,name:e.client.name,patronymic:e.client.patronymic,birthdate:e.client.birthdate.split(".").reverse().join("-"),sex:e.client.sex,id:e.client.id,work:e.client.work,phone:e.client.phone,email:e.client.email,address:e.client.address},t=Object(J.g)().clientId,r=Object(n.useState)(!1),s=Object(Z.a)(r,2),c=s[0],i=s[1];Object(n.useEffect)((function(){e.getCurrentClientData(t)}),[]);var l=Object(n.useRef)();return Object(X.jsxs)("div",{children:[Object(X.jsx)(fa,{}),e.isClientLoading?Object(X.jsx)(oa,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("h1",{children:"".concat(e.client.surname," ").concat(e.client.name," ").concat(e.client.patronymic)}),Object(X.jsx)("div",{className:Ba.a.tabsWrapper,children:Object(X.jsx)(oe.b,{to:"/main/clients/".concat(t,"/data"),className:"c-add-nav-panel__tab",activeClassName:"c-add-nav-panel__tab_active",children:"\u0414\u0430\u043d\u043d\u044b\u0435"})}),Object(X.jsx)(fa,{children:c?Object(X.jsxs)("div",{children:[Object(X.jsx)("button",{className:"c-add-nav-panel__text-button",type:"submit",form:"client-edit-data-form",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(X.jsx)("button",{className:Oe()("c-add-nav-panel__text-button","c-add-nav-panel__text-button_cancel"),type:"button",onClick:function(){var e;i(!1),null===(e=l.current)||void 0===e||e.resetForm()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}):Object(X.jsx)("button",{onClick:function(){return i(!0)},className:"c-add-nav-panel__text-button",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(X.jsx)(de.a,{innerRef:l,initialValues:a,validationSchema:Qe(),onSubmit:function(a){e.setCurrentClientData({id:t,client:{surname:a.surname,name:a.name,patronymic:a.patronymic,birthdate:a.birthdate,sex:a.sex,id:a.id,work:a.work,phone:a.phone,email:a.email,address:a.address}}),i(!1)},children:function(e){return Object(X.jsxs)("form",{className:Ba.a.form,onSubmit:e.handleSubmit,id:"client-edit-data-form",children:[Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.surname,name:"surname",onChange:e.handleChange,error:Boolean(e.touched.name&&e.errors.name),helperText:e.touched.name&&e.errors.name?e.errors.name:null})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0418\u043c\u044f"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.name,name:"name",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u041e\u0442\u0447\u0435\u0442\u0441\u0432\u043e"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.patronymic,name:"patronymic",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.birthdate,name:"birthdate",type:"date",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u041f\u043e\u043b"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!0,value:e.values.sex,name:"sex",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!0,value:e.values.id,name:"id",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.work,name:"work",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.phone,name:"phone",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.email,name:"email",onChange:e.handleChange})]}),Object(X.jsxs)("div",{className:Ba.a.fieldWrapper,children:[Object(X.jsx)("span",{className:Ba.a.inputLabel,children:"\u0410\u0434\u0440\u0435\u0441"}),Object(X.jsx)(be.a,{className:Ba.a.input,variant:"outlined",disabled:!c,value:e.values.address,name:"address",onChange:e.handleChange})]})]})}})]})]})})),Ia=function(){return Object(n.useContext)(Q).user?Object(X.jsxs)("div",{className:Te.a.main__wrapper,children:[Object(X.jsx)(ge,{}),Object(X.jsx)(J.b,{exact:!0,path:"/main",render:function(){return Object(X.jsx)(Ea,{})}}),Object(X.jsx)(J.b,{exact:!0,path:"/main/profile",render:function(){return Object(X.jsx)(ke,{})}}),Object(X.jsx)(J.b,{exact:!0,path:"/main/clients",render:function(){return Object(X.jsx)(xa,{})}}),Object(X.jsx)(J.b,{path:"/main/clients/:clientId/data",render:function(){return Object(X.jsx)(Fa,{})}})]}):Object(X.jsx)(Ae,{})};var Pa=function(){var e=Object(n.useContext)(Q),a=e.user,t=e.isCheckingForUser;return Object(X.jsx)("div",{className:"App",children:t?Object(X.jsx)(oa,{}):Object(X.jsxs)(J.d,{children:[Object(X.jsx)(J.b,{exact:!0,path:"/",children:a?Object(X.jsx)(J.a,{to:"/main"}):Object(X.jsx)(je,{})}),Object(X.jsx)(J.b,{exact:!0,path:"/registration",children:a?Object(X.jsx)(J.a,{to:"/main"}):Object(X.jsx)(fe,{})}),Object(X.jsx)(J.b,{path:"/main",children:a?Object(X.jsx)(Ia,{}):Object(X.jsx)(J.a,{to:"/"})}),Object(X.jsx)(J.a,{to:"/"})]})})},Ra=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,338)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(K.a,{store:G,children:Object(X.jsx)(oe.a,{children:Object(X.jsx)(se,{children:Object(X.jsx)(Pa,{})})})})}),document.getElementById("root")),Ra()},34:function(e,a,t){},42:function(e,a,t){e.exports={formWrapper:"Registration_formWrapper__ZqnAa",form:"Registration_form__3H9YO",inputsWrapper:"Registration_inputsWrapper__1xvZg",input:"Registration_input__3rLPt"}},43:function(e,a,t){e.exports={navigation:"Navigation_navigation__1MVH4",navigation__item:"Navigation_navigation__item__3vPOz",workBlocks:"Navigation_workBlocks__XyYNF",profileBlock:"Navigation_profileBlock__18OvU",active:"Navigation_active__j9SgC"}},47:function(e,a,t){e.exports={searchFormWrapper:"SearchClient_searchFormWrapper__1E6xZ",resetButton:"SearchClient_resetButton__20aIb",resetButtonImg:"SearchClient_resetButtonImg__2viD4",form:"SearchClient_form__2Fbno",formInput:"SearchClient_formInput__1YI5J"}},60:function(e,a,t){e.exports={wrapper:"Reminder_wrapper__1fpwF",tableHeading:"Reminder_tableHeading__T9yNF",tableHeadingWrapper:"Reminder_tableHeadingWrapper__1a6Eo",heading:"Reminder_heading__12LXo",date:"Reminder_date__2hgMo",addTaskWrapper:"Reminder_addTaskWrapper__2JgXJ",addTaskButton:"Reminder_addTaskButton__19OG1"}},67:function(e,a,t){e.exports={profile__wrapper:"Profile_profile__wrapper__2ztAw",profile__exitButton:"Profile_profile__exitButton__1RAUo",profile__dataWrapper:"Profile_profile__dataWrapper__2iyQe",profile__dataHeading:"Profile_profile__dataHeading__2_6-0"}},76:function(e,a,t){e.exports={wrapper:"Clients_wrapper__2uT-V",panelButton:"Clients_panelButton__2PnjW",addClientButton:"Clients_addClientButton__2iRxE",searchClientButton:"Clients_searchClientButton__2JJZ_"}}},[[283,1,2]]]);
//# sourceMappingURL=main.d165e723.chunk.js.map